<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>制作自己的 LFS 项目（操作系统课设） - hongwei 的博客</title><meta name="author" content="hongwei">
<meta name="author-link" content="https://github.com/hongwei7">
<meta name="description" content="Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source." /><meta name="keywords" content='Project, CS, OS' /><meta itemprop="name" content="制作自己的 LFS 项目（操作系统课设）">
<meta itemprop="description" content="Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source."><meta itemprop="datePublished" content="2020-08-18T22:23:48+00:00" />
<meta itemprop="dateModified" content="2020-08-18T22:23:48+00:00" />
<meta itemprop="wordCount" content="1182"><meta itemprop="image" content="https://hongwei7.online/logo.png"/>
<meta itemprop="keywords" content="Project,CS,OS," /><meta property="og:title" content="制作自己的 LFS 项目（操作系统课设）" />
<meta property="og:description" content="Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" /><meta property="og:image" content="https://hongwei7.online/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-18T22:23:48+00:00" />
<meta property="article:modified_time" content="2020-08-18T22:23:48+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hongwei7.online/logo.png"/>

<meta name="twitter:title" content="制作自己的 LFS 项目（操作系统课设）"/>
<meta name="twitter:description" content="Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source."/>
<meta name="application-name" content="hongwei&#39;s Blog">
<meta name="apple-mobile-web-app-title" content="hongwei&#39;s Blog"><meta name="theme-color" data-light="#ffffff" data-dark="#ffffff" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" href="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" /><link rel="prev" href="https://hongwei7.online/%E8%B7%9F%E9%9A%8Fdb_tutorial%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93/" /><link rel="next" href="https://hongwei7.online/%E5%89%91%E6%8C%87offer/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "制作自己的 LFS 项目（操作系统课设）",
    "inLanguage": "zh-CN",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/hongwei7.online\/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE\/"
    },"genre": "posts","keywords": "Project, CS, OS","wordcount":  1182 ,
    "url": "https:\/\/hongwei7.online\/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE\/","datePublished": "2020-08-18T22:23:48+00:00","dateModified": "2020-08-18T22:23:48+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "hongwei"
      },"description": ""
  }
  </script></head>
  <body data-header-desktop="fixed" data-header-mobile="auto"><script>(window.localStorage?.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('data-theme', 'dark');</script><div class="wrapper"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="hongwei 的博客"><span class="header-title-text">hongwei&#39;s Blog</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a
                class="menu-link"
                href="/posts/"
                
                
              >所有文章</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/tags/"
                
                
              >标签</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/"
                
                
              >分类</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/categories/documentation/"
                
                
              >文档</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="/about/"
                
                
              >关于</a></li><li class="menu-item">
              <a
                class="menu-link"
                href="https://github.com/dillonzq/LoveIt"
                title="GitHub"
                rel="noopener noreferrer" target="_blank"
              ><i class='fab fa-github fa-fw'></i> </a></li><li class="menu-item delimiter"></li><li class="menu-item language">
            <span role="button" aria-label="选择语言" title="选择语言">简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden="true"></i>
            </span>
            <ul class="sub-menu"><li class="menu-item">没有更多翻译</li></ul>
          </li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="搜索文章标题或内容……" id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li>
      </ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="hongwei 的博客"><span class="header-title-text">hongwei&#39;s Blog</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="搜索文章标题或内容……" id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              取消
            </a>
          </li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/posts/"
                  
                  
                >所有文章</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/tags/"
                  
                  
                >标签</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/"
                  
                  
                >分类</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/categories/documentation/"
                  
                  
                >文档</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="/about/"
                  
                  
                >关于</a></li><li
              class="menu-item"
            ><a
                  class="menu-link"
                  href="https://github.com/dillonzq/LoveIt"
                  title="GitHub"
                  rel="noopener noreferrer" target="_blank"
                ><i class='fab fa-github fa-fw'></i> </a></li><li class="menu-item theme-switch" title="切换主题">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li><li class="menu-item language">
            <span role="button" aria-label="选择语言" title="选择语言">简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden="true"></i>
            </span>
            <select class="language-select" onchange="location = this.value;"><option disabled>没有更多翻译</option></select>
          </li></ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><main class="container" data-page-style="normal"><aside class="toc" id="toc-auto"><h2 class="toc-title">目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content" id="toc-content-auto"></div></aside>

  <aside class="aside-custom">
    </aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX">
        <span>制作自己的 LFS 项目（操作系统课设）</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><a href="https://github.com/hongwei7" title="作者"target="_blank" rel="external nofollow noopener noreferrer author" class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
    hongwei</a></span></div>
      <div class="post-meta-line"><span title=2020-08-18&#32;22:23:48><i class="fa-regular fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2020-08-18">2020-08-18</time></span>&nbsp;<span><i class="fa-solid fa-pencil-alt fa-fw" aria-hidden="true"></i> 约 1182 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw" aria-hidden="true"></i> 预计阅读 3 分钟</span>&nbsp;</div>
    </div><div class="details toc" id="toc-static" data-kept="true">
        <div class="details-summary toc-title">
          <span>目录</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#准备工作">准备工作</a></li>
        <li><a href="#分区">分区</a></li>
        <li><a href="#工作环境设置">工作环境设置</a></li>
        <li><a href="#工具链编译">工具链编译</a></li>
        <li><a href="#链接编译工具链到编译过的gcc">链接编译工具链到编译过的GCC</a></li>
        <li><a href="#内核编译安装">内核编译安装</a></li>
        <li><a href="#设置grub引导sda2分区块parallels环境">设置Grub引导(sda2分区块,parallels环境)</a></li>
        <li><a href="#安装openssh">安装openssh</a></li>
        <li><a href="#安装xwindow运行qt软件">安装Xwindow,运行Qt软件</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><p>Linux From Scratch (LFS) is a project that provides you with step-by-step instructions for building your own customized Linux system entirely from source.</p>
<h3 id="准备工作">准备工作</h3>
<p>环境:<code>parallels</code>虚拟机</p>
<p>下载LFS-LiveCD的ISO文件(6.3版本)</p>
<p>用虚拟机打开,选择为Linux Kernel 2.6.</p>
<p><code>passwd</code>更改密码</p>
<p><code>/etc/rc.d/init.d/sshd start</code> 启动ssh服务</p>
<h3 id="分区">分区</h3>
<p>使用<code>cfdisk</code>创建两个分区</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">mkswap /dev/sda1
</span></span><span class="line"><span class="cl">mke2fs -jv /dev/sda2
</span></span></code></pre></td></tr></table>
</div>
</div><p>sda1作为交换分区,sda2作为ext3格式分区.</p>
<h3 id="工作环境设置">工作环境设置</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LFS</span><span class="o">=</span>/mnt/lfs
</span></span><span class="line"><span class="cl">mkdir -pv <span class="nv">$LFS</span>
</span></span><span class="line"><span class="cl">mount /dev/sda2 <span class="nv">$LFS</span>
</span></span><span class="line"><span class="cl">swapon /dev/sda1
</span></span><span class="line"><span class="cl">ln -sv <span class="nv">$LFS</span>/tools /
</span></span><span class="line"><span class="cl">groupadd lfs
</span></span><span class="line"><span class="cl">useradd -s /bin/bash -g lfs -m -k /dev/null lfs
</span></span><span class="line"><span class="cl">passwd lfs
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">chown -v lfs <span class="nv">$LFS</span>/tools
</span></span><span class="line"><span class="cl">chown -v lfs <span class="nv">$LFS</span>/sources 
</span></span><span class="line"><span class="cl">su - lfs
</span></span><span class="line"><span class="cl">cat &gt; ~/.bash_profile &lt;&lt; <span class="s2">&#34;EOF&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">exec</span> env -i <span class="nv">HOME</span><span class="o">=</span><span class="nv">$HOME</span> <span class="nv">TERM</span><span class="o">=</span><span class="nv">$TERM</span> <span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;\u:\w\$ &#39;</span> /bin/bash 
</span></span><span class="line"><span class="cl">EOF
</span></span><span class="line"><span class="cl">cat &gt; ~/.bashrc &lt;&lt; <span class="s2">&#34;EOF&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">set</span> +h
</span></span><span class="line"><span class="cl"><span class="nb">umask</span> <span class="m">022</span>
</span></span><span class="line"><span class="cl"><span class="nv">LFS</span><span class="o">=</span>/mnt/lfs
</span></span><span class="line"><span class="cl"><span class="nv">LC_ALL</span><span class="o">=</span>POSIX
</span></span><span class="line"><span class="cl"><span class="nv">LFS_TGT</span><span class="o">=</span><span class="k">$(</span>uname -m<span class="k">)</span>-lfs-linux-gnu
</span></span><span class="line"><span class="cl"><span class="nv">PATH</span><span class="o">=</span>/tools/bin:/bin:/usr/bin
</span></span><span class="line"><span class="cl"><span class="nb">export</span> LFS LC_ALL PATH
</span></span><span class="line"><span class="cl">EOF
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ~/.bash_profile
</span></span></code></pre></td></tr></table>
</div>
</div><p>新建了一个lfs用户,并赋予其编译工具链的目录和权限,并设置一些环境变量.</p>
<h3 id="工具链编译">工具链编译</h3>
<p><code>cd $LFS/sources</code></p>
<p>里面是工具链的软件包,大约需要安装26个.</p>
<p>逐个编译起来</p>
<ul>
<li>
<p><strong>Binutils</strong></p>
</li>
<li>
<p><strong>GCC-4.1.2</strong></p>
</li>
<li>
<p><strong>Linux-2.6.22.1 API Headers</strong></p>
</li>
<li>
<p><strong>Glibc</strong> (The Glibc package contains the main C library. This library provides the basic routines for allocating memory, searching directories, opening and closing files, reading and writing files, string handling, pattern matching, arithmetic, and so on.)]</p>
</li>
</ul>
<h3 id="链接编译工具链到编译过的gcc">链接编译工具链到编译过的GCC</h3>
<p>​	过程略.继续编译其他包</p>
<ul>
<li><strong>Tcl</strong>(This package and the next two (Expect and DejaGNU) are installed to support running the test suites for GCC and Binutils. Installing three packages for testing purposes may seem excessive, but it is very reassuring, if not essential, to know that the most important tools are working properly. Even if the test suites are not run in this chapter (they are not mandatory), these packages are required to run the test suites in Chapter 6.)</li>
<li><strong>Expect</strong></li>
<li><strong>DejaGNU</strong>(The DejaGNU package contains a framework for testing other programs.)</li>
<li><strong>Ncurses-5.6</strong></li>
<li><strong>Bash-3.2</strong></li>
<li><strong>Bzip2-1.0.4</strong></li>
<li><strong>Coreutils-6.9</strong>(The Coreutils package contains utilities for showing and setting the basic system characteristics.)</li>
<li><strong>Diffutils-2.8.1</strong>(The Diffutils package contains programs that show the differences between files or directories.)</li>
<li><strong>Findutils-4.2.31</strong>(The Findutils package contains programs to find files. These programs are provided to recursively search through a directory tree and to create, maintain, and search a database (often faster than the recursive find, but unreliable if the database has not been recently updated).)</li>
<li><strong>Gawk-3.1.5</strong></li>
<li><strong>Gettext-0.16.1</strong>(The Gettext package contains utilities for internationalization and localization. These allow programs to be compiled with NLS (Native Language Support), enabling them to output messages in the user&rsquo;s native language.)</li>
<li><strong>grep</strong></li>
<li><strong>Gzip-1.3.12</strong></li>
<li><strong>Make-3.81</strong></li>
<li><strong>Patch-2.5.4</strong></li>
<li><strong>Perl-5.8.8</strong></li>
<li><strong>Sed-4.1.5</strong></li>
<li><strong>Tar-1.18</strong></li>
<li><strong>Texinfo-4.9</strong>(The Texinfo package contains programs for reading, writing, and converting info pages.)</li>
<li><strong>Util-linux-2.12r</strong>(The Util-linux package contains miscellaneous utility programs. Among them are utilities for handling file systems, consoles, partitions, and messages.)</li>
</ul>
<h3 id="内核编译安装">内核编译安装</h3>
<p><code>chroot</code>到新系统下的root,编写<code>fstab</code>和编译安装内核</p>
<p><strong>内核选项配置(sda,parallel)</strong></p>
<p>因为我是用的是 parallel 虚拟机，需要配置特殊的硬盘配置。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">make menuconfig
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Device Drivers</p>
<p>|&mdash;&gt; SCSI device support</p>
<p>​		|&mdash;&gt; &lt;*&gt; SCSI device support</p>
<p>​		|&mdash;&gt; &lt;*&gt; SCSI disk support</p>
<p>|&mdash;&gt; &lt;*&gt; Serial ATA (prod) and Parallel ATA (experimental) drivers</p>
<p>​		|&mdash;&gt; &lt;*&gt; AHCI SATA support</p>
<p>​		|&mdash;&gt; &lt;*&gt; Intel ESB, ICH, PIIX3, PIIX4 PATA/SATA support (NEW)</p>
<p>​		|&mdash;&gt; &lt;*&gt; Intel PATA old PIIX support (NEW)</p>
<p>File systems</p>
<p>|&mdash;&gt; &lt;*&gt; Ext3 journalling file system support</p>
<p>|&mdash;&gt; [*]  Ext3 extended attributes</p>
<p>|&mdash;&gt; [*]   Ext3 POSIX Access Control Lists</p>
</blockquote>
<h3 id="设置grub引导sda2分区块parallels环境">设置Grub引导(sda2分区块,parallels环境)</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat &gt; /etc/fstab &lt;&lt; <span class="s2">&#34;EOF&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Begin /etc/fstab</span>
</span></span><span class="line"><span class="cl"><span class="c1"># file system mount-point type options dump fsck</span>
</span></span><span class="line"><span class="cl"><span class="c1">#                                           order</span>
</span></span><span class="line"><span class="cl">/dev/sda2 / ext2 defaults <span class="m">1</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">/dev/sda1 swap swap <span class="nv">pri</span><span class="o">=</span><span class="m">1</span> <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">proc /proc proc defaults <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">sysfs /sys sysfs defaults <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">devpts /dev/pts devpts <span class="nv">gid</span><span class="o">=</span>4,mode<span class="o">=</span><span class="m">620</span> <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">shm /dev/shm tmpfs defaults <span class="m">0</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="c1"># End /etc/fstab</span>
</span></span><span class="line"><span class="cl">EOF
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cat &gt; /boot/grub/menu.lst &lt;&lt; <span class="s2">&#34;EOF&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Begin /boot/grub/menu.lst</span>
</span></span><span class="line"><span class="cl"><span class="c1"># By default boot the first menu entry.</span>
</span></span><span class="line"><span class="cl">default <span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Allow 30 seconds before booting the default.</span>
</span></span><span class="line"><span class="cl">timeout <span class="m">5</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Use prettier colors.</span>
</span></span><span class="line"><span class="cl">color green/black light-green/black
</span></span><span class="line"><span class="cl"><span class="c1"># The first entry is for LFS.</span>
</span></span><span class="line"><span class="cl">title LFS 6.3
</span></span><span class="line"><span class="cl">root <span class="o">(</span>hd0,1<span class="o">)</span>
</span></span><span class="line"><span class="cl">kernel /boot/lfskernel-2.6.22.5 <span class="nv">root</span><span class="o">=</span>/dev/sda2
</span></span><span class="line"><span class="cl">EOF
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">grub
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root <span class="o">(</span>hd0,1<span class="o">)</span> 
</span></span><span class="line"><span class="cl">setup <span class="o">(</span>hd0<span class="o">)</span> 
</span></span><span class="line"><span class="cl">quit
</span></span></code></pre></td></tr></table>
</div>
</div><p>重启顺利进入LFS系统.</p>
<h3 id="安装openssh">安装openssh</h3>
<p>返回livecd下载编译安装<code>wget</code>,接着升级<code>perl</code>到最新版本,安装<code>openssl</code>和<code>openssh</code>.</p>
<p>至此系统环境顺利搭建.</p>
<h3 id="安装xwindow运行qt软件">安装Xwindow,运行Qt软件</h3>
<p>此处参考了https://blog.csdn.net/u012333520/article/details/50563462</p>
<p>最后成功编译<code>qt-4.1.0</code>.虽然是比较旧的版本,但是作为课设的编译工具也够用了. 最后利用 qt 完成了一个进程管理器和一个计算器。</p>
</div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod">
        <span title=2020-08-18&#32;22:23:48>更新于 2020-08-18&nbsp;</span>
      </div><div class="post-info-license">
          <span><a rel="license external nofollow noopener noreferrer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span>
        </div></div>
    <div class="post-info-line">
      <div class="post-info-md"><span><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/index.md" title="阅读原始文档" class="link-to-markdown">阅读原始文档</a></span></div>
      <div class="post-info-share">
        <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）" data-hashtags="Project,CS,OS"><i class="fa-brands fa-twitter fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-hashtag="Project"><i class="fa-brands fa-facebook-square fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）" data-web><i class="fa-brands fa-whatsapp fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）"><i data-svg-src="/lib/simple-icons/icons/line.min.svg" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）"><i class="fa-brands fa-weibo fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Myspace" data-sharer="myspace" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）" data-description=""><i class="fa-brands fa-blogger fa-fw" aria-hidden="true"></i></a>
  <a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="https://hongwei7.online/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1-lfs%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE/" data-title="制作自己的 LFS 项目（操作系统课设）"><i class="fa-brands fa-evernote fa-fw" aria-hidden="true"></i></a>
  </span>
      </div>
    </div>
  </div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href='/tags/project/' class="post-tag">Project</a><a href='/tags/cs/' class="post-tag">CS</a><a href='/tags/os/' class="post-tag">OS</a></section>
    <section>
      <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
    </section>
  </div>

  <div class="post-nav"><a href="/%E8%B7%9F%E9%9A%8Fdb_tutorial%E5%BB%BA%E7%AB%8B%E6%95%B0%E6%8D%AE%E5%BA%93/" class="post-nav-item" rel="prev" title="跟随教程从头写自己的数据库(零基础入手)"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>跟随教程从头写自己的数据库(零基础入手)</a>
      <a href="/%E5%89%91%E6%8C%87offer/" class="post-nav-item" rel="next" title="刷题-剑指Offer">刷题-剑指Offer<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"></div></article></main><footer class="footer">
    <div class="footer-container"><div class="footer-line powered">由 <a href="https://gohugo.io/" target="_blank" rel="external nofollow noopener noreferrer" title="Hugo 0.111.3">Hugo</a> 强力驱动 | 主题 - <a href="https://github.com/hugo-fixit/FixIt" target="_blank" rel="external" title="FixIt v0.2.18-RC"><img class="fixit-icon" src="/fixit.min.svg" alt="FixIt logo" />&nbsp;FixIt</a>
        </div><div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2020 - 2023</span><span class="author" itemprop="copyrightHolder">
              <a href="https://github.com/hongwei7"target="_blank" rel="external nofollow noopener noreferrer">hongwei</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div><div class="footer-line statistics"></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="回到顶部"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div><div class="fixed-button view-comments d-none" role="button" aria-label="查看评论"><i class="fa-solid fa-comment fa-fw" aria-hidden="true"></i></div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">FixIt 主题在启用 JavaScript 的情况下效果最佳。</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/lunr/lunr.min.js" defer></script><script src="/lib/lunr/lunr.stemmer.support.min.js" defer></script><script src="/lib/lunr/lunr.zh.min.js" defer></script><script src="/lib/twemoji/twemoji.min.js" defer></script><script src="/lib/lightgallery/lightgallery.min.js" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js" defer></script><script src="/lib/sharer/sharer.min.js" async defer></script><script src="/lib/katex/katex.min.js" defer></script><script src="/lib/katex/auto-render.min.js" defer></script><script src="/lib/katex/copy-tex.min.js" defer></script><script src="/lib/katex/mhchem.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script>window.config={"code":{"copyTitle":"复制到剪贴板","editLockTitle":"锁定可编辑代码块","editUnLockTitle":"解锁可编辑代码块","editable":true,"maxShownLines":300},"comment":{"enable":true,"expired":false},"cookieconsent":{"content":{"dismiss":"同意","link":"了解更多","message":"本网站使用 Cookies 来改善您的浏览体验。"},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"},"twemoji":true};</script><script src="/js/theme.min.js" defer></script></body>
</html>
